[pytest]
# Configurare pytest pentru CARpetrosani

# Director cu teste
testpaths = tests

# Pattern pentru identificare fișiere de test
python_files = test_*.py

# Pattern pentru identificare clase de test
python_classes = Test*

# Pattern pentru identificare funcții de test
python_functions = test_*

# Opțiuni implicit
addopts =
    -v                      # Verbose output
    --tb=short              # Traceback scurt
    --strict-markers        # Strict marker validation
    --color=yes             # Color output
    -ra                     # Show summary info for all test outcomes
    --maxfail=5             # Stop după 5 eșecuri
    --durations=10          # Arată top 10 teste cele mai lente

# Markeri custom
markers =
    unit: Teste unitare simple fără dependențe externe
    integration: Teste de integrare care folosesc DB mockuite
    slow: Teste care durează mai mult de 1 secundă
    critical: Teste pentru funcționalități critice (calcule financiare, securitate)
    bugfix: Teste pentru buguri rezolvate (BUG #1, #2, #10)
    decimal_precision: Teste pentru precizie Decimal în calcule financiare
    security: Teste pentru vulnerabilități și securitate

# Ignoră warnings specifice
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Minimum versiune Python
minversion = 3.7

# Căi adiționale pentru import
pythonpath = .
