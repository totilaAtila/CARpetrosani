diff --git a/ui/generare_luna.py b/ui/generare_luna.py
index 7db85ce..54fb3fa 100644
--- a/ui/generare_luna.py
+++ b/ui/generare_luna.py
@@ -241,7 +241,7 @@ class GenerareLunaNouaWidget(QWidget):
                 # CAZ 1: Nu existƒÉ date √Æn luna anterioarƒÉ
                 # Poate fi membru nou SAU membru re-activat dupƒÉ lichidare
                 logging.info(
-                    f"BUG #6: Membru fƒÉrƒÉ istoric √Æn luna {source_month:02d}-{source_year} pentru fi»ôa {nr_fisa}. "
+                    f"‚ÑπÔ∏è INFO: Membru fƒÉrƒÉ istoric √Æn luna {source_month:02d}-{source_year} pentru fi»ôa {nr_fisa}. "
                     f"Posibil membru nou sau re-activat dupƒÉ lichidare. Rata ini»õializatƒÉ la 0.00."
                 )
                 return rate_paid  # ReturneazƒÉ 0.00
@@ -254,7 +254,7 @@ class GenerareLunaNouaWidget(QWidget):
                 # CAZ 2: √émprumut nou contractat √Æn luna anterioarƒÉ
                 # Rata se ini»õializeazƒÉ la 0 pentru cƒÉ e un √Æmprumut proaspƒÉt
                 logging.info(
-                    f"BUG #6: √émprumut nou ({impr_deb:.2f}) √Æn luna {source_month:02d}-{source_year} pentru fi»ôa {nr_fisa}. "
+                    f"‚ÑπÔ∏è INFO: √émprumut nou ({impr_deb:.2f}) √Æn luna {source_month:02d}-{source_year} pentru fi»ôa {nr_fisa}. "
                     f"Rata ini»õializatƒÉ la 0.00 (√Æmprumut proaspƒÉt contractat)."
                 )
                 return Decimal("0.00")
@@ -263,13 +263,15 @@ class GenerareLunaNouaWidget(QWidget):
             if result[1] is not None:
                 try:
                     rate_paid = Decimal(str(result[1] or '0.00')).quantize(Decimal("0.01"), ROUND_HALF_UP)
-                    logging.info(
-                        f"BUG #6: RatƒÉ mo»ôtenitƒÉ pentru fi»ôa {nr_fisa}: {rate_paid:.2f} "
-                        f"(sold anterior: {impr_sold_anterior:.2f})"
-                    )
+                    # Afi»ôƒÉm doar rate > 0 pentru a urmƒÉri √Æmprumuturi active
+                    if rate_paid > Decimal("0.00"):
+                        logging.info(
+                            f"‚ÑπÔ∏è INFO: RatƒÉ mo»ôtenitƒÉ pentru fi»ôa {nr_fisa}: {rate_paid:.2f} "
+                            f"(sold anterior: {impr_sold_anterior:.2f})"
+                        )
                 except InvalidOperation:
                     logging.warning(
-                        f"BUG #6: Valoare impr_cred ('{result[1]}') invalidƒÉ √Æn luna sursƒÉ {source_month:02d}-{source_year} "
+                        f"‚ö†Ô∏è ATEN»öIE: Valoare impr_cred ('{result[1]}') invalidƒÉ √Æn luna sursƒÉ {source_month:02d}-{source_year} "
                         f"pt fi»ôa {nr_fisa}. Se va folosi 0.00."
                     )
                     rate_paid = Decimal("0.00")
@@ -904,12 +906,17 @@ class GenerareLunaNouaWidget(QWidget):
             # BUG #5 FIX: Validare post-generare - verificƒÉ cƒÉ niciun membru lichid nu a fost inclus gre»ôit
             report_progress("üîç Validare post-generare: verificare membri lichida»õi...", is_detailed=True)
             try:
-                cursor_d.execute("""
-                    SELECT COUNT(*) FROM depcred
-                    WHERE nr_fisa IN (SELECT nr_fisa FROM lichidati)
-                    AND luna = ? AND anul = ?
-                """, (target_month, target_year))
-                membri_lichidati_gresit = cursor_d.fetchone()[0]
+                # Folosim lichidati_set √Æn loc de subquery SQL pentru a evita eroarea "no such table"
+                if lichidati_set:
+                    placeholders = ','.join('?' * len(lichidati_set))
+                    cursor_d.execute(f"""
+                        SELECT COUNT(*) FROM depcred
+                        WHERE nr_fisa IN ({placeholders})
+                        AND luna = ? AND anul = ?
+                    """, tuple(lichidati_set) + (target_month, target_year))
+                    membri_lichidati_gresit = cursor_d.fetchone()[0]
+                else:
+                    membri_lichidati_gresit = 0

                 if membri_lichidati_gresit > 0:
                     # AVERTIZARE CRITICƒÇ - membri lichida»õi au fost inclu»ôi gre»ôit!
@@ -917,13 +924,13 @@ class GenerareLunaNouaWidget(QWidget):
                     logging.warning(f"BUG #5: {membri_lichidati_gresit} membri lichida»õi inclu»ôi gre»ôit √Æn luna generatƒÉ")

                     # Afi»ôeazƒÉ lista membrilor lichida»õi inclu»ôi gre»ôit
-                    cursor_d.execute("""
+                    cursor_d.execute(f"""
                         SELECT d.nr_fisa, m.NUM_PREN
                         FROM depcred d
                         LEFT JOIN membrii m ON d.nr_fisa = m.nr_fisa
-                        WHERE d.nr_fisa IN (SELECT nr_fisa FROM lichidati)
+                        WHERE d.nr_fisa IN ({placeholders})
                         AND d.luna = ? AND d.anul = ?
-                    """, (target_month, target_year))
+                    """, tuple(lichidati_set) + (target_month, target_year))
                     membri_gresit = cursor_d.fetchall()

                     for nr_fisa, nume in membri_gresit:
@@ -931,11 +938,11 @@ class GenerareLunaNouaWidget(QWidget):

                     # Op»õional: »ôterge automat aceste √ÆnregistrƒÉri gre»ôite
                     report_progress("üîß CurƒÉ»õare automatƒÉ: »ôterg √ÆnregistrƒÉrile gre»ôite...", is_detailed=True)
-                    cursor_d.execute("""
+                    cursor_d.execute(f"""
                         DELETE FROM depcred
-                        WHERE nr_fisa IN (SELECT nr_fisa FROM lichidati)
+                        WHERE nr_fisa IN ({placeholders})
                         AND luna = ? AND anul = ?
-                    """, (target_month, target_year))
+                    """, tuple(lichidati_set) + (target_month, target_year))
                     sterse = cursor_d.rowcount
                     conn_d.commit()
                     report_progress(f"‚úÖ {sterse} √ÆnregistrƒÉri gre»ôite »ôterse pentru membri lichida»õi")
